-
    name: 'Installing Gluster on RHEL 8 Servers'
    hosts: rh8_servers
    strategy: free
    gather_facts: false
    vars_files:
        - vars.yml
    tasks:
        -
            name: 'Enabling required repos'
            shell: 'subscription-manager repos --enable={{item}}'
            with_items: '{{repos_rh8_s}}'
        -
            name: 'Install required packages'
            yum: 'name={{pkgs_rh8_s}} state=present'
